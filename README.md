# Kair√≥s ‚ú®

![Project Status](https://img.shields.io/badge/status-active-success)
![Next.js](https://img.shields.io/badge/Next.js-15-black)
![Supabase](https://img.shields.io/badge/Supabase-PostgreSQL-green)
![Tailwind CSS](https://img.shields.io/badge/Tailwind-CSS-blue)

**Kair√≥s** √© uma aplica√ß√£o web moderna focada na espiritualidade, projetada para entregar uma palavra aleat√≥ria do Novo Testamento com uma experi√™ncia de leitura imersiva e contextual.

O diferencial do projeto √© a funcionalidade **"Ler Contexto"**, que carrega os vers√≠culos vizinhos sob demanda (Infinite Scroll bidirecional), permitindo ler o cap√≠tulo inteiro sem sair da tela, com cabe√ßalhos din√¢micos estilo iOS.

## üöÄ Funcionalidades

- **Sorteio Inteligente:** Gera um vers√≠culo aleat√≥rio exclusivamente do Novo Testamento via RPC (Remote Procedure Call) no banco de dados para m√°xima performance.
- **Leitura em Contexto (Infinite Scroll):**
  - Ao clicar no vers√≠culo, abre-se um modal focado exatamente na passagem sorteada.
  - Rolagem infinita para cima e para baixo (carregamento em lotes de 40 vers√≠culos).
  - Gest√£o de mem√≥ria eficiente.
- **UI/UX Premium:**
  - **Sticky Headers Din√¢micos:** O t√≠tulo do cap√≠tulo (ex: "LUCAS 5") fixa no topo e muda dinamicamente conforme o usu√°rio rola o texto (estilo lista de contatos do iOS).
  - **Scroll Spy:** Detec√ß√£o autom√°tica do cap√≠tulo atual durante a rolagem.
  - Anima√ß√µes suaves com Framer Motion.
  - Design Dark Mode moderno com acentos em Dourado (Amber).
- **Banco de Dados:** PostgreSQL hospedado no Supabase com mais de 31.000 vers√≠culos otimizados.

## üõ†Ô∏è Tecnologias Utilizadas

- **Frontend:** [Next.js](https://nextjs.org/) (App Router), React
- **Estiliza√ß√£o:** [Tailwind CSS](https://tailwindcss.com/)
- **Anima√ß√µes:** [Framer Motion](https://www.framer.com/motion/)
- **√çcones:** [Lucide React](https://lucide.dev/)
- **Backend / DB:** [Supabase](https://supabase.com/) (PostgreSQL)

## üì¶ Instala√ß√£o e Configura√ß√£o

### 1. Clone o reposit√≥rio
```bash
git clone https://github.com/Poliih/kairos
cd kairos

```

### 2. Instale as depend√™ncias

```bash
npm install
# ou
yarn install

```

### 3. Configura√ß√£o do Supabase

Este projeto requer uma tabela `verses` e uma fun√ß√£o RPC para o sorteio.

No **SQL Editor** do seu Supabase, execute:

#### A. Criar a Tabela

```sql
create table public.verses (
  id bigint generated by default as identity primary key,
  testament text not null,     -- 'Old' ou 'New'
  book_name text not null,     -- ex: 'Mateus'
  chapter integer not null,    -- ex: 1
  verse_number integer not null, -- ex: 1
  text text not null           -- Texto do vers√≠culo
);

-- √çndices para performance
create index idx_verses_testament on public.verses(testament);
create index idx_verses_id on public.verses(id);

```

#### B. Criar a Fun√ß√£o de Sorteio (RPC)

Esta fun√ß√£o garante que o sorteio seja r√°pido mesmo com milhares de registros.

```sql
create or replace function get_random_verse_new_testament()
returns setof verses
language sql
as $$
  select *
  from verses
  where testament = 'New'
  order by random()
  limit 1;
$$;

```

#### C. Pol√≠ticas de Seguran√ßa (RLS)

```sql
alter table public.verses enable row level security;

create policy "Permitir leitura p√∫blica"
on public.verses for select
to anon
using (true);

```

### 4. Vari√°veis de Ambiente

Crie um arquivo `.env` na raiz do projeto:

```env
NEXT_PUBLIC_SUPABASE_URL=sua_url_do_supabase
NEXT_PUBLIC_SUPABASE_ANON_KEY=sua_chave_anon_publica

```

### 5. Populando o Banco (Seed)

O projeto inclui um script `seed-database.js` para popular o banco a partir de um arquivo `bible.xml`.
*Certifique-se de ter o arquivo `bible.xml` na raiz e suas credenciais de servi√ßo no script (apenas para rodar localmente).*

```bash
node seed-database.js

```

### 6. Rodar o Projeto

```bash
npm run dev

```

Acesse `http://localhost:3000`.


Desenvolvido com üß° por **Poliana Rodrigues**.
